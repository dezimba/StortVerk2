{"version":3,"sources":["Forsida.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class Forsida {\n\n  constructor() {\n    this.Sida = document.querySelector('.content');\n    //this.videos = null;\n  }\n\n  createVideos(data) {\n    const flokkar = data.categories;\n    const myndb = data.videos;\n\n    for (let i = 0; i < flokkar.length; i++) {\n      const flokkur = flokkar[i];\n      const elem = this.createDiv(flokkur, myndb);\n      console.log(\"prenta\");\n      this.Sida.appendChild(document.createTextNode(flokkur[i]));\n    }\n      // const elem = createDiv(flokkur, myndb);\n  }\n\n  createDiv(flokkur, myndb) {\n    const divFlokkur = document.createElement('Div');\n    const Titill = document.createElement('H3');\n    const t = flokkur.title;\n    const title = document.createTextNode(t);\n\n    Titill.appendChild(title);\n    divFlokkur.appendChild(Titill);\n\n    for(let i = 0; i < flokkur.videos.length; i++) {\n      const id = flokkur.videos[i];\n      const video = myndb.find (v => v.id === id);\n      const elem = this.createVideo(video);\n    }\n  }\n\n  createVideo(video) {\n    const divContain = document.createElement('Div');\n    const divVideo = document.createElement('Div');\n    const divinfo = document.createElement('Div');\n\n    const img = document.createElement('img');\n    img.src = video.poster;\n\n    divVideo.appendChild(img);\n    divContain.appendChild(divVideo);\n    divFlokkur.appendChild(divContain);\n  }\n\n  init(content) {\n    this.Sida = content;\n\n  // content.addEventListener('click', ); // fallið sem ræsir queryselector\n  }\n\n   getDate(x) {\n    let d = (Date.now() - x) / 1000;\n    const years = Math.floor(d / (365 * 24 * 60 * 60));\n    d %= (365 * 24 * 60 * 60);\n    const months = Math.floor(d / (30 * 24 * 60 * 60));\n    d %= (30 * 24 * 60 * 60);\n    const weeks = Math.floor(d / (7 * 24 * 60 * 60));\n    d %= (7 * 24 * 60 * 60);\n    const days = Math.floor(d / (24 * 60 * 60));\n    d %= (24 * 60 * 60);\n    const hours = Math.floor(d / (60 * 60));\n    d %= (60 * 60);\n\n    //Bæta við eintölu.. krafa um það\n    if(years > 1){\n      if(this.lastNumber(years) === 1){\n        return 'Fyrir ${years} ári'\n      }\n      return 'Fyrir ${years} árum';\n    }\n    if(months > 1){\n      if(this.lastNumber(months) === 1){\n        return 'Fyrir ${months} mánuði'\n      }\n      return 'Fyrir ${months} mánuðum';\n    }\n    if(weeks > 1){\n      if(this.lastNumber(weeks) === 1){\n        return 'Fyrir ${weeks} viku'\n      }\n      return 'Fyrir ${weeks} vikum';\n    }\n    if(days > 1){\n      if(this.lastNumber(days) === 1){\n        return 'Fyrir ${days} degi'\n      }\n      return 'Fyrir ${days} dögum';\n    }\n    if(hours > 1){\n      if(this.lastNumber(hours) === 1){\n        return 'Fyrir ${hours} klukkutíma'\n      }\n      return 'Fyrir ${hours} klukkutímum';\n    }\n  }\n\n  lastNumber(x){\n    let str = x.toString();\n    str = str.slice(-1);\n    return parseInt(str, 10);\n  }\n\n  fetchJSON() {\n    //const videos = ('videos.json');\n    const request = new XMLHttpRequest();\n    request.overrideMimeType('application/json');\n    request.open('GET', 'videos.json', true);\n    console.log(request);\n    request.onload = ( ) => {\n      if (request.status >= 200 && request.status < 400) {\n        const data = JSON.parse(request.response);\n        console.log(data);\n        this.createVideos(data);\n      } else if (request.status >= 400) {\n        // villu melding\n      }\n    }\n\n    request.onerror = function() {\n\n    }\n\n    request.send();\n  }\n\n/*  return {\n    init\n  }  */\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const content = document.querySelector('.content');\n  const forsida = new Forsida();\n\n  forsida.init(content);\n  forsida.fetchJSON();\n});\n"]}