{"version":3,"sources":["Forsida.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class Forsida {\n  constructor() {\n    this.Sida = document.querySelector('.content');\n    // this.videos = null;\n    this.divFlokkur = document.createElement('div');\n    this.id = null;\n    this.video = null;\n  }\n\n  createVideos(data) {\n    const flokkar = data.categories;\n    const myndb = data.videos;\n\n    for (let i = 0; i < flokkar.length; i += 1) {\n      const flokkur = flokkar[i];\n      this.createDiv(flokkur, myndb);\n      console.log('prenta');\n    }\n  // const elem = createDiv(flokkur, myndb);\n  }\n\n  createDiv(flokkur, myndb) {\n    const divFlokkur = document.createElement('div');\n    const Titill = document.createElement('H3');\n    const t = flokkur.title;\n    console.log(flokkur.title);\n    const title = document.createTextNode(t);\n\n    Titill.appendChild(title);\n    divFlokkur.appendChild(Titill);\n    this.Sida.appendChild(divFlokkur);\n\n    for (let i = 0; i < flokkur.videos.length; i += 1) {\n      const id = flokkur.videos[i];\n      const video = myndb.find(v => v.id === id);\n      const videoElement = this.createVideo(video);\n      divFlokkur.appendChild(videoElement);\n      console.log(id);\n    }\n  }\n\n  createVideo(video) {\n    const divContain = document.createElement('div');\n    const divVideo = document.createElement('div');\n    const divInfo = document.createElement('div');\n\n    const img = document.createElement('img');\n    img.src = video.poster;\n    divVideo.appendChild(img);\n\n    const Date = this.getDate(video.created);\n    const d = document.createTextNode(Date);\n    divInfo.appendChild(d);\n\n\n    const title = document.createElement('H4');\n    const t = document.createTextNode(video.title);\n    title.appendChild(t);\n    divInfo.appendChild(title);\n\n    console.log(t);\n    console.log(d);\n\n    divContain.appendChild(divVideo);\n    divContain.appendChild(divInfo);\n    return divContain;\n    // this.divFlokkur.appendChild(divContain);\n    // this.Sida.appendChild(this.divFlokkur);\n  }\n\n  init(content) {\n    this.Sida = content;\n\n  // content.addEventListener('click', ); // fallið sem ræsir queryselector\n  }\n\n  getDate(x) {\n    let d = (Date.now() - x) / 1000;\n    const years = Math.floor(d / (365 * 24 * 60 * 60));\n    d %= (365 * 24 * 60 * 60);\n    const months = Math.floor(d / (30 * 24 * 60 * 60));\n    d %= (30 * 24 * 60 * 60);\n    const weeks = Math.floor(d / (7 * 24 * 60 * 60));\n    d %= (7 * 24 * 60 * 60);\n    const days = Math.floor(d / (24 * 60 * 60));\n    d %= (24 * 60 * 60);\n    const hours = Math.floor(d / (60 * 60));\n    d %= (60 * 60);\n\n\n    // Bæta við eintölu.. krafa um það\n    if (years > 1) {\n      if (this.lastNumber(years) === 1) {\n        return `Fyrir ${years} ári`;\n      }\n      return `Fyrir ${years} árum`;\n    }\n    if (months > 1) {\n      if (this.lastNumber(months) === 1) {\n        return `Fyrir ${months} mánuði`;\n      }\n      return `Fyrir ${months} mánuðum`;\n    }\n    if (weeks > 1) {\n      if (this.lastNumber(weeks) === 1) {\n        return `Fyrir ${weeks} viku`;\n      }\n      return `Fyrir ${weeks} vikum`;\n    }\n    if (days > 1) {\n      if (this.lastNumber(days) === 1) {\n        return `Fyrir ${days} degi`;\n      }\n      return `Fyrir ${days} dögum`;\n    }\n    if (this.lastNumber(hours) === 1) {\n      return `Fyrir ${hours} klukkutíma`;\n    }\n    return `Fyrir ${hours} klukkutímum`;\n  }\n\n  lastNumber(x) {\n    let str = x.toString();\n    str = str.slice(-1);\n    return parseInt(str, 10);\n  }\n\n  fetchJSON() {\n    // const videos = ('videos.json');\n    const request = new XMLHttpRequest();\n    request.overrideMimeType('application/json');\n    request.open('GET', 'videos.json', true);\n    console.log(request);\n    request.onload = () => {\n      if (request.status >= 200 && request.status < 400) {\n        const data = JSON.parse(request.response);\n        console.log(data);\n        this.createVideos(data);\n      } else if (request.status >= 400) {\n        // villu melding\n      }\n    };\n\n    request.onerror = () => {\n\n    };\n\n    request.send();\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const content = document.querySelector('.content');\n  const forsida = new Forsida();\n\n  forsida.init(content);\n  forsida.fetchJSON();\n});\n"]}