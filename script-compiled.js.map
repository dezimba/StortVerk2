{"version":3,"sources":["Forsida.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class Forsida {\n  constructor() {\n    this.Sida = document.querySelector('.content');\n    // this.videos = null;\n    this.divFlokkur = document.createElement('div');\n    this.id = null;\n    this.video = null;\n  }\n\n  createVideos(data) {\n    const flokkar = data.categories;\n    const myndb = data.videos;\n\n    for (let i = 0; i < flokkar.length; i += 1) {\n      const flokkur = flokkar[i];\n      this.createDiv(flokkur, myndb);\n    }\n  // const elem = createDiv(flokkur, myndb);\n  }\n\n  createDiv(flokkur, myndb) {\n    const divTitill = document.createElement('div');\n    const divEfni = document.createElement('div');\n    const divFlokkur = document.createElement('div');\n    const Titill = document.createElement('H3');\n    const t = flokkur.title;\n    const title = document.createTextNode(t);\n\n    Titill.appendChild(title);\n    Titill.classList.add('catTitle');\n    divTitill.appendChild(Titill);\n    divFlokkur.appendChild(divTitill);\n    divFlokkur.appendChild(divEfni);\n    divEfni.classList.add('catContent');\n    divFlokkur.classList.add('catStructure');\n    this.Sida.appendChild(divFlokkur);\n\n    for (let i = 0; i < flokkur.videos.length; i += 1) {\n      const id = flokkur.videos[i];\n      const video = myndb.find(v => v.id === id);\n      const videoElement = this.createVideo(video);\n      divEfni.appendChild(videoElement);\n    }\n  }\n\n  createVideo(video) {\n    const divContain = document.createElement('div');\n    const divVideo = document.createElement('div');\n    const divInfo = document.createElement('div');\n    const duration = document.createElement('div');\n\n    const img = document.createElement('img');\n    img.src = video.poster;\n    divVideo.appendChild(img);\n\n    const spilat = this.getDuration(video.duration); // Kalla á fallið\n    const st = document.createTextNode(spilat);\n    duration.appendChild(st);\n    divVideo.appendChild(duration);\n\n    const title = document.createElement('H4');\n    const t = document.createTextNode(video.title);\n    title.appendChild(t);\n    title.classList.add('h4');\n    divInfo.appendChild(title);\n\n    const Date = this.getDate(video.created);\n    const d = document.createTextNode(Date);\n    divInfo.appendChild(d);\n\n    const link = document.createElement('a');\n    const a = window.location.href;\n    // const href = document.createTextNode(a);\n    link.setAttribute('href', `${a}Spilari.html?id=${video.id}`);\n    console.log(video.id);\n    console.log(a);\n\n\n    divContain.appendChild(divVideo);\n    divContain.appendChild(divInfo);\n    divContain.appendChild(link);\n    divContain.classList.add('vidMain');\n    return divContain;\n    // this.divFlokkur.appendChild(divContain);\n    // this.Sida.appendChild(this.divFlokkur);\n  }\n\n  init(content) {\n    this.Sida = content;\n\n  // content.addEventListener('click', ); // fallið sem ræsir queryselector\n  }\n\n  // Fall sem tekur tíma myndbands frá json og skilar tímanum í réttu formatti\n  getDuration(x) {\n    if (x < 60) {\n      if (x < 10) {\n        return `00:0${x}`;\n      }\n      return `00:${x}`;\n    } else if (x <= 60 * 60) {\n      const min = Math.floor(x / 60);\n      const sec = Math.floor(x % 60);\n      if (sec < 10) {\n        return `${min}:0${sec}`;\n      }\n      return `${min}:${sec}`;\n    }\n  }\n\n  //Fall sem tekur dagsetningu frá json og skilar aldrinum á réttu formatti\n  getDate(x) {\n    let d = (Date.now() - x) / 1000;\n    const years = Math.floor(d / (365 * 24 * 60 * 60));\n    d %= (365 * 24 * 60 * 60);\n    const months = Math.floor(d / (30 * 24 * 60 * 60));\n    d %= (30 * 24 * 60 * 60);\n    const weeks = Math.floor(d / (7 * 24 * 60 * 60));\n    d %= (7 * 24 * 60 * 60);\n    const days = Math.floor(d / (24 * 60 * 60));\n    d %= (24 * 60 * 60);\n    const hours = Math.floor(d / (60 * 60));\n    d %= (60 * 60);\n\n\n    //Skila á réttu formatti\n    if (years > 1) {\n      if (this.lastNumber(years) === 1) {\n        return `Fyrir ${years} ári`;\n      }\n      return `Fyrir ${years} árum`;\n    }\n    if (months > 1) {\n      if (this.lastNumber(months) === 1) {\n        return `Fyrir ${months} mánuði`;\n      }\n      return `Fyrir ${months} mánuðum`;\n    }\n    if (weeks > 1) {\n      if (this.lastNumber(weeks) === 1) {\n        return `Fyrir ${weeks} viku`;\n      }\n      return `Fyrir ${weeks} vikum`;\n    }\n    if (days > 1) {\n      if (this.lastNumber(days) === 1) {\n        return `Fyrir ${days} degi`;\n      }\n      return `Fyrir ${days} dögum`;\n    }\n    if (this.lastNumber(hours) === 1) {\n      return `Fyrir ${hours} klukkutíma`;\n    }\n    return `Fyrir ${hours} klukkutímum`;\n  }\n\n  //Taka seinastu töluna, þurfum það fyrir eintölu í getDate()\n  lastNumber(x) {\n    let str = x.toString();\n    str = str.slice(-1);\n    return parseInt(str, 10);\n  }\n\n  fetchJSON() {\n    // const videos = ('videos.json');\n    const request = new XMLHttpRequest();\n    request.overrideMimeType('application/json');\n    request.open('GET', 'videos.json', true);\n    // console.log(request);\n    request.onload = () => {\n      if (request.status >= 200 && request.status < 400) {\n        const data = JSON.parse(request.response);\n        // console.log(data);\n        this.createVideos(data);\n      } else if (request.status >= 400) {\n        // villu melding\n      }\n    };\n\n    request.onerror = () => {\n\n    };\n\n    request.send();\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const content = document.querySelector('.content');\n  const forsida = new Forsida();\n\n  forsida.init(content);\n  forsida.fetchJSON();\n});\n"]}